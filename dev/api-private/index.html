<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API – Private · TimeZones.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TimeZones.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../conversions/">Converting</a></li><li><a class="tocitem" href="../arithmetic/">Arithmetic</a></li><li><a class="tocitem" href="../rounding/">Rounding</a></li><li><a class="tocitem" href="../current/">Current Time</a></li><li><a class="tocitem" href="../faq/">Frequently Asked Questions</a></li><li><a class="tocitem" href="../api-public/">API – Public</a></li><li class="is-active"><a class="tocitem" href>API – Private</a><ul class="internal"><li><a class="tocitem" href="#TZData"><span>TZData</span></a></li><li><a class="tocitem" href="#Interpretation"><span>Interpretation</span></a></li><li><a class="tocitem" href="#TZFile"><span>TZFile</span></a></li><li><a class="tocitem" href="#Etc."><span>Etc.</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API – Private</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API – Private</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTime/TimeZones.jl/blob/master/docs/src/api-private.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TimeZones-Internal-API"><a class="docs-heading-anchor" href="#TimeZones-Internal-API">TimeZones Internal API</a><a id="TimeZones-Internal-API-1"></a><a class="docs-heading-anchor-permalink" href="#TimeZones-Internal-API" title="Permalink"></a></h1><h2 id="TZData"><a class="docs-heading-anchor" href="#TZData">TZData</a><a id="TZData-1"></a><a class="docs-heading-anchor-permalink" href="#TZData" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.tzdata_versions" href="#TimeZones.TZData.tzdata_versions"><code>TimeZones.TZData.tzdata_versions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tzdata_versions() -&gt; Vector{String}</code></pre><p>Retrieves all of the currently available tzdata versions from IANA. The version list is ordered from earliest to latest.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; last(tzdata_versions())  # Current latest available tzdata version
&quot;2020a&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.tzdata_latest_version" href="#TimeZones.TZData.tzdata_latest_version"><code>TimeZones.TZData.tzdata_latest_version</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tzdata_latest_version() -&gt; String</code></pre><p>Determine the latest version of tzdata available while limiting how often we check with remote servers.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.tzdata_version_dir" href="#TimeZones.TZData.tzdata_version_dir"><code>TimeZones.TZData.tzdata_version_dir</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tzdata_version_dir(dir::AbstractString) -&gt; AbstractString</code></pre><p>Determines the tzdata version by inspecting various files in a directory.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.tzdata_version_archive" href="#TimeZones.TZData.tzdata_version_archive"><code>TimeZones.TZData.tzdata_version_archive</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tzdata_version_archive(archive::AbstractString) -&gt; AbstractString</code></pre><p>Determines the tzdata version by inspecting the contents within the archive. Useful when downloading the latest archive &quot;tzdata-latest.tar.gz&quot;.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.read_news" href="#TimeZones.TZData.read_news"><code>TimeZones.TZData.read_news</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_news(news, [limit]) -&gt; Vector{AbstractString}</code></pre><p>Reads all of the tzdata versions from the NEWS file in the order in which they appear. Note that since the NEWS file is in reverse chronological order the versions will also be in that order. Useful for identifying the version of the tzdata.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.compile!" href="#TimeZones.TZData.compile!"><code>TimeZones.TZData.compile!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Resolves a named zone into TimeZone. Updates ordered with any new rules that were required to be ordered.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.tryparse_dayofmonth_function" href="#TimeZones.TZData.tryparse_dayofmonth_function"><code>TimeZones.TZData.tryparse_dayofmonth_function</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tryparse_dayofmonth_function(str::AbstractString) -&gt; Union{Function,Nothing}</code></pre><p>Parse the various day-of-month formats used within tzdata source files. Returns a function which generates a <code>Date</code> observing the rule. The function returned (<code>f</code>) can be called by providing a year and month arguments or a <code>Date</code> (e.g. <code>f(year, month)</code> or <code>f(::Date)</code>).</p><pre><code class="language-julia hljs">julia&gt; f = tryparse_dayofmonth_function(&quot;lastSun&quot;)
last_sunday_of_month (generic function with 1 method)

julia&gt; f(2019, 3)
2019-03-31

julia&gt; f = tryparse_dayofmonth_function(&quot;Sun&gt;=8&quot;)
#16 (generic function with 1 method)

julia&gt; f(2019, 3)
2019-03-10

julia&gt; f = tryparse_dayofmonth_function(&quot;Fri&lt;=1&quot;)
#16 (generic function with 1 method)

julia&gt; f(2019, 4)
2019-03-29

julia&gt; f = tryparse_dayofmonth_function(&quot;15&quot;)
#18 (generic function with 1 method)

julia&gt; f(2019, 3)
2019-03-15</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZData.order_rules" href="#TimeZones.TZData.order_rules"><code>TimeZones.TZData.order_rules</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Rules are typically ordered by the &quot;from&quot; than &quot;in&quot; fields. Since rules also contain a &quot;to&quot; field the written ordering can be problematic for resolving time zone transitions.</p><p>Example:</p><pre><code class="nohighlight hljs"># Rule  NAME    FROM    TO  TYPE    IN  ON  AT      SAVE    LETTER/S
Rule    Poland  1918    1919    -   Sep 16  2:00s   0       -
Rule    Poland  1919    only    -   Apr 15  2:00s   1:00    S
Rule    Poland  1944    only    -   Apr  3  2:00s   1:00    S

A simplistic way of iterating through the rules by years could yield the rules
in the wrong order:

# ON         AT      SAVE    LETTER/S
1918-09-16   2:00s   0       -
1919-09-16   2:00s   0       -
1919-04-15   2:00s   1:00    S
1944-04-03   2:00s   1:00    S

The order_rules function will expand the rules such that they can be ordered by the
&quot;on&quot; date which ensures we process the rules in the correct order:

1918-09-16   2:00s   0       -
1919-04-15   2:00s   1:00    S
1919-09-16   2:00s   0       -
1944-04-03   2:00s   1:00    S</code></pre></div></section></article><h2 id="Interpretation"><a class="docs-heading-anchor" href="#Interpretation">Interpretation</a><a id="Interpretation-1"></a><a class="docs-heading-anchor-permalink" href="#Interpretation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TimeZones.transition_range" href="#TimeZones.transition_range"><code>TimeZones.transition_range</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">transition_range(dt::DateTime, tz::VariableTimeZone, context::Type{Union{Local,UTC}}) -&gt; UnitRange</code></pre><p>Finds the indexes of the <code>tz</code> transitions which may be applicable for the <code>dt</code>. The given DateTime is expected to be local to the time zone or in UTC as specified by <code>context</code>. Note that UTC context will always return a range of length one.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.interpret" href="#TimeZones.interpret"><code>TimeZones.interpret</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">interpret(dt::DateTime, tz::VariableTimeZone, context::Type{Union{Local,UTC}}) -&gt; Array{ZonedDateTime}</code></pre><p>Produces a list of possible <code>ZonedDateTime</code>s given a <code>DateTime</code> and <code>VariableTimeZone</code>. The result will be returned in chronological order. Note that <code>DateTime</code>s in the local context typically return 0-2 results while the UTC context will always return 1 result.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.shift_gap" href="#TimeZones.shift_gap"><code>TimeZones.shift_gap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">shift_gap(local_dt::DateTime, tz::VariableTimeZone) -&gt; Tuple</code></pre><p>Given a non-existent local <code>DateTime</code> in a <code>TimeZone</code> produces a tuple containing two valid <code>ZonedDateTime</code>s that span the gap. Providing a valid local <code>DateTime</code> returns an empty tuple. Note that this function does not support passing in a UTC <code>DateTime</code> since there are no non-existent UTC <code>DateTime</code>s.</p><p>Aside: the function name refers to a period of invalid local time (gap) caused by daylight saving time or offset changes (shift).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.first_valid" href="#TimeZones.first_valid"><code>TimeZones.first_valid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first_valid(local_dt::DateTime, tz::VariableTimeZone, step::Period)</code></pre><p>Construct a valid <code>ZonedDateTime</code> by adjusting the local <code>DateTime</code>. If the local <code>DateTime</code> is non-existent then it will be adjusted using the <code>step</code> to be <em>after</em> the gap. When the local <code>DateTime</code> is ambiguous the <em>first</em> ambiguous <code>DateTime</code> will be returned.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.last_valid" href="#TimeZones.last_valid"><code>TimeZones.last_valid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">last_valid(local_dt::DateTime, tz::VariableTimeZone, step::Period)</code></pre><p>Construct a valid <code>ZonedDateTime</code> by adjusting the local <code>DateTime</code>. If the local <code>DateTime</code> is non-existent then it will be adjusted using the <code>step</code> to be <em>before</em> the gap. When the local <code>DateTime</code> is ambiguous the <em>last</em> ambiguous <code>DateTime</code> will be returned.</p></div></section></article><h2 id="TZFile"><a class="docs-heading-anchor" href="#TZFile">TZFile</a><a id="TZFile-1"></a><a class="docs-heading-anchor-permalink" href="#TZFile" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZFile.read" href="#TimeZones.TZFile.read"><code>TimeZones.TZFile.read</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">TZFile.read(io::IO) -&gt; Function</code></pre><p>Read the content of an I/O stream as a <a href="https://data.iana.org/time-zones/data/tzfile.5.txt">POSIX tzfile</a> to produce a <code>TimeZone</code>. As the tzfile format does not include the name of the interpreted time zone this function returns a closure which takes the single argument <code>name::AbstractString</code> and when called produces a <code>TimeZone</code> instance.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.TZFile.write" href="#TimeZones.TZFile.write"><code>TimeZones.TZFile.write</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">TZFile.write(io::IO, tz::TimeZone; version::Char=TZFile.WRITE_VERSION)</code></pre><p>Writes the time zone to the I/O stream in the <a href="https://data.iana.org/time-zones/data/tzfile.5.txt">POSIX tzfile</a> format.</p></div></section></article><h2 id="Etc."><a class="docs-heading-anchor" href="#Etc.">Etc.</a><a id="Etc.-1"></a><a class="docs-heading-anchor-permalink" href="#Etc." title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TimeZones.UTCOffset" href="#TimeZones.UTCOffset"><code>TimeZones.UTCOffset</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UTCOffset</code></pre><p>A <code>UTCOffset</code> is an amount of time subtracted from or added to UTC to get the current local time – whether it&#39;s standard time or daylight saving time.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.@optional" href="#TimeZones.@optional"><code>TimeZones.@optional</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@optional(expr)</code></pre><p>Creates multiple method signatures to allow optional arguments before required arguments. For example:</p><pre><code class="nohighlight hljs">f(a=1, b=2, c) = ...</code></pre><p>becomes:</p><pre><code class="nohighlight hljs">f(a, b, c) = ...
f(a, c) = f(a, 2, c)
f(c) = f(1, 2, c)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.parse_tz_format" href="#TimeZones.parse_tz_format"><code>TimeZones.parse_tz_format</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_tz_format(str) -&gt; TimeZone</code></pre><p>Parse the time zone format typically provided via the &quot;TZ&quot; environment variable. Details on the format can be found under the man page for <a href="https://man7.org/linux/man-pages/man3/tzset.3.html">tzset</a>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeZones.tryparse_tz_format" href="#TimeZones.tryparse_tz_format"><code>TimeZones.tryparse_tz_format</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tryparse_tz_format(str) -&gt; Union{TimeZone, Nothing}</code></pre><p>Like <code>parse_tz_format</code>, but returns either a value of the <code>TimeZone</code>, or <code>nothing</code> if the string does not contain a valid format.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.hash-Tuple{ZonedDateTime, UInt64}" href="#Base.hash-Tuple{ZonedDateTime, UInt64}"><code>Base.hash</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hash(::ZonedDateTime, h)</code></pre><p>Compute an integer hash code for a ZonedDateTime by hashing the <code>utc_datetime</code> field. <code>hash(:utc_instant, h)</code> is used to avoid collisions with <code>DateTime</code> hashes.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Dates.guess-Tuple{ZonedDateTime, ZonedDateTime, Any}" href="#Dates.guess-Tuple{ZonedDateTime, ZonedDateTime, Any}"><code>Dates.guess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">guess(start::ZonedDateTime, finish::ZonedDateTime, step) -&gt; Integer</code></pre><p>Given a start and end date, indicates how many steps/periods are between them. Defining this function allows <code>StepRange</code>s to be defined for <code>ZonedDateTime</code>s.</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api-public/">« API – Public</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 31 August 2025 03:09">Sunday 31 August 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
